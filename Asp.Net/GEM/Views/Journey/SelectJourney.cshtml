@model  GEM.Models.TeamJourney

@{
    ViewBag.Title = "Select Journey";
}

<section class="col-lg-12">

    <div class="container">

        <div class="col-lg-12 dashboardcontent">

            <div class="col-lg-8 center-secondarylinks">

                <div class="col-lg-12 topbararea">
                    <img src="../images/journey.png" alr="J"> <h4 class="journeytitle"> Select a Journey </h4>
                </div>

                <div class="row">
                    <input type="hidden" id="txtJourneyId" value="1" class="form-control">
                    <div class="col-lg-12 journeys-list">
                        <ul>
                            @if (Model.JourneyList.Count > 0)
                            {
                                foreach (var journey in Model.JourneyList)
                                {
                                    if (journey.JourneyId == 1)
                                    {
                                        <a href="../Journey/Create?journeyId=1"><li class="active"> <img src="../images/jedi-icon.png"> Delivery Team - #Deliver Value to Customer </li> </a>
                                    }
                                    else if (journey.JourneyId == 2)
                                    {
                                         <a href="#" style="cursor: not-allowed;"><li> <img src="../images/rebel-icon.png"> Product Team - #Vision to Challange the Norm </li> </a>
                                    }
                                    else if (journey.JourneyId == 3)
                                    {
                                        <a href="#" style="cursor: not-allowed;"><li> <img src="../images/gaurdians-icon.png"> Enterprise Team - #Protectors and Gaurdians of Value </li> </a>
                                    }
                                    else
                                    {
                                        <a href="#" style="cursor: not-allowed;"><li> <img src="../images/galactica-icon.png"> Strategy Team - #Guides Strategy and Value </li> </a>
                                    }
                                }
                            }
                        </ul>

                    </div>

                </div>

            </div>

            <div class="col-lg-4 right-links">

                <div class="col-lg-12 topbararea">
                    <img src="../images/team-menu-icon.png" alr="Team"> <h4 class="journeytitle"> Teams </h4>
                </div>

                <div class="row">

                    <div class="col-lg-12 teams-control">

                        <div class="bs-example">
                            @if (Model != null && Model.Teams != null && Model.Teams.Count > 0)
                            {
                                @Html.Partial("Team", Model.Teams)
                            }
                            else
                            {
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h4 class="panel-title add-team" id="add-new-team">
                                            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree"><img src="../images/add-avathar-icon.png"> Add Team </a>
                                        </h4>
                                    </div>
                                </div>
                            }
                        </div>

                    </div>
                </div>

            </div>

     </div>
        <div id="myModal" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">Invite Member</h4>
                    </div>
                    <div class="modal-body">
                        <img src="../images/inviatation-icon.png" /> <br>
                        <input type="email" name="invite-mail" id="mail-invitation" placeholder="Enter an E-Mail Address"> <br>
                        <p class="text-warning"><small>Enter an e-mail address to invite a new or an existing member</small></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                        <button type="submit" id="btnInvite" class="btn btn-primary">Send Invitation</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="teamModal" class="modal fade">
            <div class="modal-dialog">
                @Html.Partial("AddTeam", Model)
            </div>
        </div>
    </div>
 </section>

<script type="text/javascript">
	jQuery(document).ready(function(){
		jQuery('.add-new-member').click(function(){
		jQuery('#myModal').modal('show');
		});
		jQuery('#add-new-team').click(function () {
		    $('#txtTeamId').val(""); 
		    $('#txtTeamName').val($('#txtTeamInstanceName').val());
		    $('#btnCreateTeam').val("Add Team");
		    jQuery('#teamModal').modal('show');
		});
	});
</script>

<script src="../Scripts/Journey/Journey.js" type="text/jscript"></script>
<script>
    var sessionId = '@Session["LoginMemberID"]';
    var _journey = new Journey(sessionId);
    _journey.Load();
</script>

